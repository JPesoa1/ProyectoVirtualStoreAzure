@using ProyectoNugetVirtualStore.Models;
@model DatosJuego
@{
    List<int> carrito = Context.Session.GetObject<List<int>>("CARRITO");
    List<Imagenes> imagenes = ViewData["IMAGENES"] as List<Imagenes>;
    var imagenesBlob = ViewData["IMAGENES"] as List<BlobModel>;
    var imagenUsuarios = ViewData["USUARIOS"] as List<BlobModel>;
}

<div class="container2 padre">


    <div style="width:100%;">

        <div style="width: 80%;margin:0 auto;margin-top: 2rem;" id="default-carousel" class="relative w-full" data-carousel="slide">
            <!-- Carousel wrapper -->
            <div class="relative h-56 overflow-hidden rounded-lg md:h-96">

                @for(int i = 0; i < imagenesBlob.Count(); i++)
                {
                    <div class="hidden duration-700 ease-in-out" data-carousel-item>
                        <img src="@imagenesBlob[i].Url" class="absolute block w-full -translate-x-1/2 -translate-y-1/2 top-1/2 left-1/2" alt="...">
                    </div>
                }


            </div>
            <!-- Slider indicators -->
            <div class="absolute z-30 flex space-x-3 -translate-x-1/2 bottom-5 left-1/2">
                <button type="button" class="w-3 h-3 rounded-full" aria-current="true" aria-label="Slide 1" data-carousel-slide-to="0"></button>
                <button type="button" class="w-3 h-3 rounded-full" aria-current="false" aria-label="Slide 2" data-carousel-slide-to="1"></button>
                <button type="button" class="w-3 h-3 rounded-full" aria-current="false" aria-label="Slide 3" data-carousel-slide-to="2"></button>

            </div>
            <!-- Slider controls -->
            <button type="button" class="absolute top-0 left-0 z-30 flex items-center justify-center h-full px-4 cursor-pointer group focus:outline-none" data-carousel-prev>
                <span class="inline-flex items-center justify-center w-8 h-8 rounded-full sm:w-10 sm:h-10 bg-white/30 dark:bg-gray-800/30 group-hover:bg-white/50 dark:group-hover:bg-gray-800/60 group-focus:ring-4 group-focus:ring-white dark:group-focus:ring-gray-800/70 group-focus:outline-none">
                    <svg aria-hidden="true" class="w-5 h-5 text-white sm:w-6 sm:h-6 dark:text-gray-800" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path></svg>
                    <span class="sr-only">Previous</span>
                </span>
            </button>
            <button type="button" class="absolute top-0 right-0 z-30 flex items-center justify-center h-full px-4 cursor-pointer group focus:outline-none" data-carousel-next>
                <span class="inline-flex items-center justify-center w-8 h-8 rounded-full sm:w-10 sm:h-10 bg-white/30 dark:bg-gray-800/30 group-hover:bg-white/50 dark:group-hover:bg-gray-800/60 group-focus:ring-4 group-focus:ring-white dark:group-focus:ring-gray-800/70 group-focus:outline-none">
                    <svg aria-hidden="true" class="w-5 h-5 text-white sm:w-6 sm:h-6 dark:text-gray-800" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg>
                    <span class="sr-only">Next</span>
                </span>
            </button>
        </div>
        <div style="padding-left: 4rem;width: 100%;margin: 2rem  auto;" class="carddetalle">
            <p>Titulo: @Model.Juego.NombreJuego</p>
            <p>Precio: <p style="font-weight:bold">$@Model.Juego.PrecioJuego</p></p>
            <p>Descripcion: @Model.Juego.DescripcionJuego</p>
        </div>

    </div>
    <div style="padding: 50px;" class="padre carddetalle">
        <div style="text-align:center">
            <h1 style="font-weight:bold">@Model.Juego.NombreJuego</h1>
        </div>

        <p style="font-family: Arial, Helvetica, sans-serif;">
            Pariatur aliqua sint mollit amet dolore tempor. Consequat sint magna amet qui dolor fugiat nisi ex ex esse.
            Veniam mollit non amet elit qui laborum pariatur eiusmod. Ut commodo commodo ut enim.
            Id esse eu consectetur dolore.Pariatur aliqua sint mollit amet dolore tempor. Consequat sint magna amet qui dolor fugiat nisi ex ex esse.
            Veniam mollit non amet elit qui laborum pariatur eiusmod. Ut commodo commodo ut enim.
            Id esse eu consectetur dolore.
            Pariatur aliqua sint mollit amet dolore tempor. Consequat sint magna amet qui dolor fugiat nisi ex ex esse.
            Veniam mollit non amet elit qui laborum pariatur eiusmod. Ut commodo commodo ut enim.
            Id esse eu consectetur dolore.
        </p>
    </div>
    <div class="padre">
        @if (Context.User.Identity.IsAuthenticated == false)
        {


        }
        else
        {

            @if (carrito != null && carrito.Contains(Model.Juego.IdJuego))
            {
                <button style="font-weight:bold" disabled class="btn btn-outline-danger disabled">En carrito</button>
            }
            else
            {
                <a class="text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 mr-2 mb-2 dark:bg-blue-600 dark:hover:bg-blue-700 focus:outline-none dark:focus:ring-blue-800" asp-controller="Games" asp-action="Index" asp-route-idjuego="@Model.Juego.IdJuego" asp-route-idjuegocarrito="@Model.Juego.IdJuego">
                    Añadir a carrito
                </a>
            }

        }

    </div>





    <div class="w-full bg-white border border-gray-200 rounded-lg shadow dark:bg-gray-800 dark:border-gray-700">
        <div class="sm:hidden">
            <label for="tabs" class="sr-only">Select tab</label>
            <select id="tabs" class="bg-gray-50 border-0 border-b border-gray-200 text-gray-900 text-sm rounded-t-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500">
                <option>Comentarios</option>
                <option>Requisitos</option>
                <option>FAQ</option>
            </select>
        </div>
        <ul class="hidden text-sm font-medium text-center text-gray-500 divide-x divide-gray-200 rounded-lg sm:flex dark:divide-gray-600 dark:text-gray-400" id="fullWidthTab" data-tabs-toggle="#fullWidthTabContent" role="tablist">
            <li class="w-full">
                <button id="stats-tab" data-tabs-target="#stats" type="button" role="tab" aria-controls="stats" aria-selected="true" class="inline-block w-full p-4 rounded-tl-lg bg-gray-50 hover:bg-gray-100 focus:outline-none dark:bg-gray-700 dark:hover:bg-gray-600">Comentarios</button>
            </li>
            <li class="w-full">
                <button id="about-tab" data-tabs-target="#about" type="button" role="tab" aria-controls="about" aria-selected="false" class="inline-block w-full p-4 bg-gray-50 hover:bg-gray-100 focus:outline-none dark:bg-gray-700 dark:hover:bg-gray-600">Requisitos</button>
            </li>
            <li class="w-full">
                <button id="faq-tab" data-tabs-target="#faq" type="button" role="tab" aria-controls="faq" aria-selected="false" class="inline-block w-full p-4 rounded-tr-lg bg-gray-50 hover:bg-gray-100 focus:outline-none dark:bg-gray-700 dark:hover:bg-gray-600">FAQ</button>
            </li>
        </ul>
        <div id="fullWidthTabContent" class="border-t border-gray-200 dark:border-gray-600">
            <div class="hidden p-4 bg-white rounded-lg md:p-8 dark:bg-gray-800" id="stats" role="tabpanel" aria-labelledby="stats-tab">
                <dl>
                    @if (Model.VistaComentarios != null)
                    {
                        @foreach (VistaComentarios comentarios in Model.VistaComentarios)
                        {
                            <article>
                                <div class="flex items-center mb-4 space-x-4">
                                    @foreach(BlobModel blob in imagenUsuarios)
                                    {
                                        @if (comentarios.Imange == blob.Nombre)
                                        {
                                            <img class="w-10 h-10 rounded-full" src="@blob.Url" alt="">
                                        }
                                       
                                    }
                                   
                                    <div class="space-y-1 font-medium dark:text-white">
                                        <p>@comentarios.NombreUsuario<time class="block text-sm text-gray-500 dark:text-gray-400">@comentarios.FechaPost</time></p>

                                    </div>
                                </div>

                                <p style="font-weight:bold;font-family:'Noto Serif'" class="mb-2 font-light text-gray-500 dark:text-gray-400"> @comentarios.Comentario</p>

                            </article>
                            <hr />
                        }

                    }
                    else if (Model.VistaComentarios.Count == 0 || Model.VistaComentarios == null)
                    {

                        <h1>Sin comentarios , se el primero</h1>
                    }


                    @if (Context.User.Identity.IsAuthenticated)
                    {
                        <form method="post" style=" max-width: 1068px;width: 800px;margin: 1rem auto;">
                            <div class="w-full mb-4 border border-gray-200 rounded-lg bg-gray-50 dark:bg-gray-700 dark:border-gray-600">
                                <div class="px-4 py-2 bg-white rounded-t-lg dark:bg-gray-800">
                                    <label for="comment" class="sr-only">Your comment</label>
                                    <textarea name="texto" id="comment" rows="4" class="w-full px-0 text-sm text-gray-900 bg-white border-0 dark:bg-gray-800 focus:ring-0 dark:text-white dark:placeholder-gray-400" placeholder="Write a comment..." required></textarea>
                                </div>
                                <div class="flex items-center justify-between px-3 py-2 border-t dark:border-gray-600">
                                    <button type="submit" class="inline-flex items-center py-2.5 px-4 text-xs font-medium text-center text-white bg-blue-700 rounded-lg focus:ring-4 focus:ring-blue-200 dark:focus:ring-blue-900 hover:bg-blue-800">
                                        Post comment
                                    </button>

                                </div>
                            </div>
                        </form>
                    }
                </dl>
            </div>
            <div class="hidden p-4 bg-white rounded-lg md:p-8 dark:bg-gray-800" id="about" role="tabpanel" aria-labelledby="about-tab">
                <h2 class="mb-5 text-2xl font-extrabold tracking-tight text-gray-900 dark:text-white">Requisitos</h2>
                <!-- List -->
                <ul role="list" class="space-y-4 text-gray-500 dark:text-gray-400">
                    <li class="flex space-x-2">
                        <!-- Icon -->
                        <svg class="flex-shrink-0 w-4 h-4 text-blue-600 dark:text-blue-500" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path></svg>
                        <span class="leading-tight">Procesador:	AMD Ryzen 3 1200 / Intel Core i5-7500</span>
                    </li>
                    <li class="flex space-x-2">
                        <!-- Icon -->
                        <svg class="flex-shrink-0 w-4 h-4 text-blue-600 dark:text-blue-500" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path></svg>
                        <span class="leading-tight">Memoria:	8 GB RAM</span>
                    </li>
                    <li class="flex space-x-2">
                        <!-- Icon -->
                        <svg class="flex-shrink-0 w-4 h-4 text-blue-600 dark:text-blue-500" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path></svg>
                        <span class="leading-tight">Gráficos:   AMD Radeon RX 560 with 4GB VRAM / NVIDIA GeForce GTX 1050 Ti with 4GB VRAM</span>
                    </li>
                    <li class="flex space-x-2">
                        <!-- Icon -->
                        <svg class="flex-shrink-0 w-4 h-4 text-blue-600 dark:text-blue-500" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path></svg>
                        <span class="leading-tight">Requisitos del sistema:	Windows 10 (64 bit)</span>
                    </li>
                </ul>
            </div>
            <div class="hidden p-4 bg-white rounded-lg md:p-8 dark:bg-gray-800" id="faq" role="tabpanel" aria-labelledby="faq-tab">
                <div id="accordion-flush" data-accordion="collapse" data-active-classes="bg-white dark:bg-gray-800 text-gray-900 dark:text-white" data-inactive-classes="text-gray-500 dark:text-gray-400">
                    <h2 id="accordion-flush-heading-1">
                        <button type="button" class="flex items-center justify-between w-full py-5 font-medium text-left text-gray-500 border-b border-gray-200 dark:border-gray-700 dark:text-gray-400" data-accordion-target="#accordion-flush-body-1" aria-expanded="true" aria-controls="accordion-flush-body-1">
                            <span>¿Porque VirtualStore?</span>
                            <svg data-accordion-icon class="w-6 h-6 rotate-180 shrink-0" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg>
                        </button>
                    </h2>
                    <div id="accordion-flush-body-1" class="hidden" aria-labelledby="accordion-flush-heading-1">
                        <div class="py-5 border-b border-gray-200 dark:border-gray-700">
                            <p class="mb-2 text-gray-500 dark:text-gray-400">
                                Et adipisicing dolore duis sunt reprehenderit deserunt irure eu est irure consectetur et reprehenderit.
                                Dolore anim in esse eiusmod anim aliquip do consequat eiusmod. Do proident anim in incididunt qui eu laboris.
                            </p>
                        </div>
                    </div>
                    <h2 id="accordion-flush-heading-2">
                        <button type="button" class="flex items-center justify-between w-full py-5 font-medium text-left text-gray-500 border-b border-gray-200 dark:border-gray-700 dark:text-gray-400" data-accordion-target="#accordion-flush-body-2" aria-expanded="false" aria-controls="accordion-flush-body-2">
                            <span>¿Nuestros Precio?</span>
                            <svg data-accordion-icon class="w-6 h-6 shrink-0" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg>
                        </button>
                    </h2>
                    <div id="accordion-flush-body-2" class="hidden" aria-labelledby="accordion-flush-heading-2">
                        <div class="py-5 border-b border-gray-200 dark:border-gray-700">
                            <p class="mb-2 text-gray-500 dark:text-gray-400">
                                Et adipisicing dolore duis sunt reprehenderit deserunt irure eu est irure consectetur et reprehenderit.
                                Dolore anim in esse eiusmod anim aliquip do consequat eiusmod. Do proident anim in incididunt qui eu laboris.
                            </p>
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </div>





</div>

<style>

    .padre {
        max-width: 1026px;
        margin: auto;
    }

    .container2 {
        display: flex;
        margin-top: 1rem;
        justify-content: center;
        gap: 1rem;
        flex-wrap: wrap;
    }

    .carddetalle {
        max-width: 1026px;
        margin: 0 auto;
        background-color: #ffffff;
        border-radius: 10px;
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);
        padding: 20px;
        transition: box-shadow 0.3s ease-in-out;
    }

        .carddetalle:hover {
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.4);
        }

    .card {
        padding: 20px;
        box-sizing: border-box;
        border: 1px solid black;
    }


        .card img {
            max-width: 100%;
            height: auto;
        }
</style>